import{u as w,_ as P}from"./popularScroll-3178cb09.js";import{u as y,r as m,o as S,a as E,b as s,c as o,d as t,F as p,e as d,f as i,g as u,w as g,i as v,t as h}from"./index-9e8878e1.js";const H={class:"moviesPage"},M={class:"moviesPage__inner container"},b=t("h3",{class:"moviesPage-title"},"Все фильмы",-1),x={class:"moviesPage__items"},B={class:"moviesPage__items__item"},C=["src"],F={key:1,class:"nophoto",src:P,alt:""},L={class:"moviesPage__items__item-name"},N={class:"moviesPage__items__item"},V=["src"],Y={key:1,class:"nophoto",src:P,alt:""},$={class:"moviesPage__items__item-name"},j={__name:"MoviesPage",setup(A){let l=y(),_=w();const r=m([2]),a=m([]);return document.addEventListener("scroll",f=>{if(window.scrollY+window.innerHeight<=document.documentElement.scrollHeight&&window.scrollY+window.innerHeight>=document.documentElement.scrollHeight/1.5){_.getPopularScroll({type:"movie",page:r.value}),r.value++;for(const n of _.popularScrollMovies)a.value.push(n);console.log(a)}}),S(()=>{l.getPopular({type:"movie",page:1})}),(f,n)=>{const c=E("router-link");return s(),o("div",H,[t("div",M,[b,t("div",x,[(s(!0),o(p,null,d(i(l).popularMovies,(e,k)=>(s(),o("div",B,[u(c,{to:`/movie/${e.id}`},{default:g(()=>[e.backdrop_path?(s(),o("img",{key:0,src:i(v)+e.poster_path,alt:"",class:"moviesPage__items__item-img"},null,8,C)):(s(),o("img",F)),t("p",L,h(e.title),1)]),_:2},1032,["to"])]))),256)),(s(!0),o(p,null,d(a.value,(e,k)=>(s(),o("div",N,[u(c,{to:`/movie/${e.id}`},{default:g(()=>[e.backdrop_path?(s(),o("img",{key:0,src:i(v)+e.poster_path,alt:"",class:"moviesPage__items__item-img"},null,8,V)):(s(),o("img",Y)),t("p",$,h(e.title),1)]),_:2},1032,["to"])]))),256))])])])}}};export{j as default};
